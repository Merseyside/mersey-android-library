afterEvaluate {
    generateReleaseBuildConfig.enabled = false
    generateDebugBuildConfig.enabled = false

    kaptReleaseKotlin.finalizedBy(removeReleaseBuildFiles)
    kaptDebugKotlin.finalizedBy(removeDebugBuildFiles)
}

task removeReleaseBuildFiles {
    doLast {
        file("$buildDir/generated/source/kapt/release/com/merseyside/merseyLib/DataBinderMapperImpl.java").delete()
        println(file("$buildDir/generated/source/kapt/release/com/merseyside/merseyLib/BR.java").delete())
        println("delete trigger = " + file("$buildDir/generated/data_binding_trigger/release/com/merseyside/merseyLib/DataBindingTriggerClass.java").delete())
    }
}

task removeDebugBuildFiles {
    doLast {
        file("$buildDir/generated/source/kapt/debug/com/merseyside/merseyLib/DataBinderMapperImpl.java").delete()
        println(file("$buildDir/generated/source/kapt/debug/com/merseyside/merseyLib/BR.java").delete())
    }
}